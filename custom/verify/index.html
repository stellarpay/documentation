<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, minimum-scale=1.0">
<title>Verify Orders</title>


<link rel="icon" href="/blue/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,400i,500,500i,700,700i|Noto+Sans:400,400i,700,700i|Source+Code+Pro&amp;subset=latin-ext">
<link rel="stylesheet" href="../resources/assets/css/style.css">

	</head>
	<body class="" data-spy="scroll" data-target=".js-scrollspy">

	<header class="site-header">
		<div class="container">
			<div class="row">
				<div class="col-xs-12">

						<a href="../" class="site-header__logo">StellarPay</a>

						<button class="offcanvas-toggle visible-xs">
							<span></span>
							<span></span>
							<span></span>
						</button><!-- /.offcanvas-toggle -->

				</div><!-- /.col -->
			</div><!-- /.row -->
		</div><!-- /.container -->
	</header><!-- /.site-header -->


		<div class="hero-subheader">
			<div class="container">
				<div class="row">
					<div class="col-md-7">
						<div class="align-container" data-mh>
							<div class="align-inner">

									<h1 class="hero-subheader__title">Verify Orders</h1>


									<p class="hero-subheader__desc">When you redirect your customers to StellarPay checkout, then when they finished payment you might need to verify the order.</p>



										<a href="../requests" class="btn btn--dark btn--rounded btn--w-icon btn--w-icon-left">
											<i class="icon icon--arrow-left"></i>
											API Requests
										</a>


							</div><!-- /.align-inner -->
						</div><!-- /.align-container -->
					</div><!-- /.col -->

				</div><!-- /.row -->
			</div><!-- /.container -->
		</div><!-- /.hero-subheader -->
		<div class="section">
			<div class="container">
				<div class="row">
					<div class="col-md-7">
						<div class="content">
							<h2 id="add-content">Verify Paid Order</h2>
<p>When you receive Instant Payment Notification, you might need to confirm on your side to finish billing and deliver ordered product.<br><br> There is a simple verify script which you can use :</p>
							<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// Fetch IPN Request Logs
$url = file_get_contents("requests.json");
$json = json_decode($url);

// Merchant side parameters
$amount = '5.0000000';

// A secret key for your merchant account on StellarPay
$apiSecret = "5df5c4a7e88da7c3e72460d17e69d07c";

// orderDescription is passed from merchant page
$orderDescription = 'ORDER2991-LATTE-XL';

// Create hash from merchant parameters
$secretParameters=
$amount.':'
.$apiSecret.':'
.$orderDescription;

// Finalize hash
$finalSecret = strtoupper(md5($secretParameters));

// Compare the hash with fetched request from StellarPay
if($finalSecret == $json->hash){
echo "Payment valid.";
}else{
echo "Payment invalid.";
}
</code></pre></div></div>

						</div><!-- /.content -->
					</div><!-- /.col -->
					<div class="col-md-4 col-md-offset-1">
						<div class="sections-list-wrapper">
							<div class="sections-list js-sections js-affix js-scrollspy hidden-xs hidden-sm"></div><!-- /.sections-list -->
						</div>
					</div><!-- /.col -->
				</div><!-- /.row -->
			</div><!-- /.container -->
		</div><!-- /.section -->

		<div class="js-footer-area">

				<nav class="page-nav">
					<div class="container">
						<div class="row">
							<div class="col-xs-12">

									<a href="../requests" class="page-nav__item page-nav__item--prev">
										<i class="icon icon--arrow-left"></i>
										API Requests
									</a><!-- /.page-nav__item -->



							</div><!-- /.col -->
						</div><!-- /.row -->
					</div><!-- /.container -->
				</nav><!-- /.page-nav -->


				<div class="micro-nav">
	<div class="container">
		<div class="row">
			<div class="col-xs-12">
				<a href="../" class="micro-nav__back">
					<i class="icon icon--arrow-left"></i>
					Back to homepage
				</a><!-- /.micro-nav__back -->
			</div><!-- /.col -->
		</div><!-- /.row -->
	</div><!-- /.container -->
</div><!-- /.micro-nav -->



<footer class="site-footer">
	<div class="container">
		<div class="row">
			<div class="col-sm-6">

					<a href="../" class="site-footer__logo">StellarPay</a>


					<hr>
					<p class="site-footer__copyright">StellarPay <br>All rights reserved.</p>

			</div><!-- /.col -->

		</div><!-- /.row -->
	</div><!-- /.container -->
</footer><!-- /.site-footer -->


<script src="../resources/assets/js/vendor/jquery.min.js"></script>
<script type="text/javascript" src="../resources/assets/js/vendor/bootstrap/affix.min.js"></script>
<script type="text/javascript" src="../resources/assets/js/vendor/bootstrap/scrollspy.min.js"></script>
<script type="text/javascript" src="../resources/assets/js/vendor/matchHeight.min.js"></script>
<script type="text/javascript" src="../resources/assets/js/scripts.min.js"></script>




		</div><!-- /.js-footer-area -->
	</body>
</html>
